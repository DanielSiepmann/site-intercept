# Global redirect rules
# This configuration file contains global redirects for the documentation server
# It is deployed automatic into the nginx of the documentation server.
# This file is included in the VHost configuration and can contain any kind of redirect rules.
#
# WARNING: THIS FILE IS DIRECTLY DEPLOYED TO DOCS LIVE SERVER WHEN INTERCEPT PATCHES
#          ARE MERGED TO DEVELOP BRANCH. SYNTAX ERRORS WILL LEAD TO DOCS.TYPO3.ORG BEING DOWN!
#
# Example:
# location ~ ^/typo3cms/ViewHelperReference(.*)$ {
#    return 303 /other/typo3/ViewHelperReference/9.5/en-us$1;
#}

# Rewrite Fluid VH reference links to new position 
location ~ ^/typo3cms/ViewHelperReference/latest(.*)$ {
    return 303 /other/typo3/view-helper-reference/9.5/en-us$1;
}
location ~ ^/typo3cms/ViewHelperReference(.*)$ {
    return 303 /other/typo3/view-helper-reference/9.5/en-us$1;
}

# Rewrite Surf documentation links to new position
location ~ ^/surf/latest(.*)$ {
    return 303 /other/typo/surf/2.0/en-us$1;
}
location ~ ^/surf(.*)$ {
    return 303 /other/typo/surf/2.0/en-us$1;
}

# typo3/reference-coreapi
location ~ ^/typo3cms/CoreApiReference/6.2(.*)$ {
    return 303 /m/typo3/reference-coreapi/6.2/en-us$1;
}
location ~ ^/typo3cms/CoreApiReference/7.6(.*)$ {
    return 303 /m/typo3/reference-coreapi/7.6/en-us$1;
}
location ~ ^/typo3cms/CoreApiReference/8.7(.*)$ {
    return 303 /m/typo3/reference-coreapi/8.7/en-us$1;
}
location ~ ^/typo3cms/CoreApiReference/latest(.*)$ {
    return 303 /m/typo3/reference-coreapi/master/en-us$1;
}
location ~ ^/typo3cms/CoreApiReference(.*)$ {
    return 303 /m/typo3/reference-coreapi/master/en-us$1;
}

# typo3/guide-contributionworkflow
location ~ ^/typo3cms/ContributionWorkflowGuide/latest(.*) {
    return 303 /m/typo3/guide-contributionworkflow/master/en-us$1;
}
location ~ ^/typo3cms/ContributionWorkflowGuide(.*) {
    return 303 /m/typo3/guide-contributionworkflow/master/en-us$1;
}

# typo3/guide-installation
location ~ ^/typo3cms/InstallationGuide/6.2(.*) {
    return 303 /m/typo3/guide-installation/6.2/en-us$1;
}
location ~ ^/typo3cms/InstallationGuide/7.6(.*) {
    return 303 /m/typo3/guide-installation/7.6/en-us$1;
}
location ~ ^/typo3cms/InstallationGuide/8.7(.*) {
    return 303 /m/typo3/guide-installation/8.7/en-us$1;
}
location ~ ^/typo3cms/InstallationGuide/latest(.*) {
    return 303 /m/typo3/guide-installation/master/en-us$1;
}
location ~ ^/typo3cms/InstallationGuide(.*) {
    return 303 /m/typo3/guide-installation/master/en-us$1;
}

# typo3/book-extbasefluid
location ~ ^/typo3cms/ExtbaseFluidBook/8.7(.*) {
    return 303 /m/typo3/book-extbasefluid/8.7/en-us$1;
}
location ~ ^/typo3cms/ExtbaseFluidBook/9.5(.*) {
    return 303 /m/typo3/book-extbasefluid/9.5/en-us$1;
}
location ~ ^/typo3cms/ExtbaseFluidBook/latest(.*) {
    return 303 /m/typo3/book-extbasefluid/master/en-us$1;
}
location ~ ^/typo3cms/ExtbaseFluidBook(.*) {
    return 303 /m/typo3/book-extbasefluid/master/en-us$1;
}

# typo3/reference-typoscript
location ~ ^/typo3cms/TyposcriptReference/6.2(.*) {
    return 303 /m/typo3/reference-typoscript/6.2/en-us$1;
}
location ~ ^/typo3cms/TyposcriptReference/7.6(.*) {
    return 303 /m/typo3/reference-typoscript/7.6/en-us$1;
}
location ~ ^/typo3cms/TyposcriptReference/8.7(.*) {
    return 303 /m/typo3/reference-typoscript/8.7/en-us$1;
}
location ~ ^/typo3cms/TyposcriptReference/latest(.*) {
    return 303 /m/typo3/reference-typoscript/master/en-us$1;
}
location ~ ^/typo3cms/TyposcriptReference(.*) {
    return 303 /m/typo3/reference-typoscript/master/en-us$1;
}

# typo3/reference-tsconfig
location ~ ^/typo3cms/TSconfigReference/6.2(.*) {
    return 303 /m/typo3/reference-tsconfig/6.2/en-us$1;
}
location ~ ^/typo3cms/TSconfigReference/7.6(.*) {
    return 303 /m/typo3/reference-tsconfig/7.6/en-us$1;
}
location ~ ^/typo3cms/TSconfigReference/8.7(.*) {
    return 303 /m/typo3/reference-tsconfig/8.7/en-us$1;
}
location ~ ^/typo3cms/TSconfigReference/latest(.*) {
    return 303 /m/typo3/reference-tsconfig/master/en-us$1;
}
location ~ ^/typo3cms/TSconfigReference(.*) {
    return 303 /m/typo3/reference-tsconfig/master/en-us$1;
}

# typo3/docs-how-to-document
location ~ ^/typo3cms/HowToDocument/latest(.*) {
    return 303 m/typo3/docs-how-to-document/master/en-us$1;
}
location ~ ^/typo3cms/HowToDocument(.*) {
    return 303 m/typo3/docs-how-to-document/master/en-us$1;
}

# typo3/tutorial-getting-started
location ~ ^/typo3cms/GettingStartedTutorial/7.6(.*) {
    return 303 /m/typo3/tutorial-getting-started/7.6/en-us$1;
}
location ~ ^/typo3cms/GettingStartedTutorial/8.7(.*) {
    return 303 /m/typo3/tutorial-getting-started/8.7/en-us$1;
}
location ~ ^/typo3cms/GettingStartedTutorial/latest(.*) {
    return 303 /m/typo3/tutorial-getting-started/master/en-us$1;
}
location ~ ^/typo3cms/GettingStartedTutorial(.*) {
    return 303 /m/typo3/tutorial-getting-started/master/en-us$1;
}

# typo3/docs-guide-render-typo3-documentation
location ~ ^/typo3cms/RenderTYPO3DocumentationGuide/latest(.*) {
    return 303 /m/typo3/docs-guide-render-typo3-documentation/master/en-us$1;
}
location ~ ^/typo3cms/RenderTYPO3DocumentationGuide(.*) {
    return 303 /m/typo3/docs-guide-render-typo3-documentation/master/en-us$1;
}

# typo3/tutorial-editors
location ~ ^typo3/tutorial-editors/7.6(.*) {
    return 303 /m/typo3/tutorial-editors/7.6/en-us$1;
}
location ~ ^typo3/tutorial-editors/latest(.*) {
    return 303 /m/typo3/tutorial-editors/master/en-us$1;
}
location ~ ^typo3/tutorial-editors(.*) {
    return 303 /m/typo3/tutorial-editors/master/en-us$1;
}

# typo3/guide-frontendlocalization
location ~ ^/typo3cms/FrontendLocalizationGuide/latest(.*) {
    return 303 /m/typo3/guide-frontendlocalization/master/en-us$1;
}
location ~ ^/typo3cms/FrontendLocalizationGuide(.*) {
    return 303 /m/typo3/guide-frontendlocalization/master/en-us$1;
}

# typo3/docs-snippets
location ~ ^/typo3cms/Snippets/latest(.*) {
    return 303 /m/typo3/docs-snippets/master/en-us$1;
}
location ~ ^/typo3cms/Snippets(.*) {
    return 303 /m/typo3/docs-snippets/master/en-us$1;
}

# typo3/demo-t3SphinxThemeRtd
location ~ ^/typo3cms/drafts/github/TYPO3-Documentation/t3SphinxThemeRtdDemoDocs/latest(.*) {
    return 303 /m/typo3/demo-t3SphinxThemeRtd/master/en-us$1;
}
location ~ ^/typo3cms/drafts/github/TYPO3-Documentation/t3SphinxThemeRtdDemoDocs(.*) {
    return 303 /m/typo3/demo-t3SphinxThemeRtd/master/en-us$1;
}

# typo3/reference-tca
location ~ ^/typo3cms/TCAReference/6.2(.*) {
    return 303 /m/typo3/reference-tca/6.2/en-us$1;
}
location ~ ^/typo3cms/TCAReference/7.6(.*) {
    return 303 /m/typo3/reference-tca/7.6/en-us$1;
}
location ~ ^/typo3cms/TCAReference/8.7(.*) {
    return 303 /m/typo3/reference-tca/8.7/en-us$1;
}
location ~ ^/typo3cms/TCAReference/latest(.*) {
    return 303 /m/typo3/reference-tca/master/en-us$1;
}
location ~ ^/typo3cms/TCAReference(.*) {
    return 303 /m/typo3/reference-tca/master/en-us$1;
}

# typo3/tutorial-sitepackage
location ~ ^/typo3cms/SitePackageTutorial/latest(.*) {
    return 303 /m/typo3/tutorial-sitepackage/master/en-us$1;
}
location ~ ^/typo3cms/SitePackageTutorial(.*) {
    return 303 /m/typo3/tutorial-sitepackage/master/en-us$1;
}

# typo3/guide-tell-me-something-about
location ~ ^/typo3cms/TellMeSomethingAbout/latest(.*) {
    return 303 /m/typo3/guide-tell-me-something-about/master/en-us$1;
}
location ~ ^/typo3cms/TellMeSomethingAbout(.*) {
    return 303 /m/typo3/guide-tell-me-something-about/master/en-us$1;
}

# typo3/guide-extbasefluid
location ~ ^/typo3cms/ExtbaseGuide/6.2(.*) {
    return 303 /m/typo3/guide-extbasefluid/6.2/en-us$1;
}
location ~ ^/typo3cms/ExtbaseGuide/latest(.*) {
    return 303 /m/typo3/guide-extbasefluid/master/en-us$1;
}
location ~ ^/typo3cms/ExtbaseGuide(.*) {
    return 303 /m/typo3/guide-extbasefluid/master/en-us$1;
}

# typo3/guide-example-extension-manual
location ~ ^/typo3cms/ExtensionManualExample/latest(.*) {
    return 303 /m/typo3/guide-example-extension-manual/master/en-us$1;
}
location ~ ^/typo3cms/ExtensionManualExample(.*) {
    return 303 /m/typo3/guide-example-extension-manual/master/en-us$1;
}

# typo3/tutorial-typoscript-in-45-minutes
location ~ ^/typo3cms/TyposcriptIn45MinutesTutorial/6.2(.*) {
    return 303 /m/typo3/tutorial-typoscript-in-45-minutes/6.2/en-us$1;
}
location ~ ^/typo3cms/TyposcriptIn45MinutesTutorial/7.6(.*) {
    return 303 /m/typo3/tutorial-typoscript-in-45-minutes/7.6/en-us$1;
}
location ~ ^/typo3cms/TyposcriptIn45MinutesTutorial/latest(.*) {
    return 303 /m/typo3/tutorial-typoscript-in-45-minutes/master/en-us$1;
}
location ~ ^/typo3cms/TyposcriptIn45MinutesTutorial(.*) {
    return 303 /m/typo3/tutorial-typoscript-in-45-minutes/master/en-us$1;
}

# typo3/tutorial-templating-with-fluid
# typo3/tutorial-templating
location ~ ^/typo3cms/TemplatingTutorial/6.2(.*) {
    return 303 /m/typo3/tutorial-templating/6.2/en-us$1;
}
location ~ ^/typo3cms/TemplatingTutorial/7.6(.*) {
    return 303 /m/typo3/tutorial-templating/7.6/en-us$1;
}
location ~ ^/typo3cms/TemplatingTutorial/latest(.*) {
    return 303 /m/typo3/tutorial-templating-with-fluid/master/en-us$1;
}
location ~ ^/typo3cms/TemplatingTutorial(.*) {
    return 303 /m/typo3/tutorial-templating-with-fluid/master/en-us$1;
}

